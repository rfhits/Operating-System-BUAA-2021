<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

- [lab3‰∏äÊú∫](#lab3%E4%B8%8A%E6%9C%BA)
  - [lab3-1](#lab3-1)
    - [exam](#exam)
      - [PART1](#part1)
      - [PART2](#part2)
      - [PART3](#part3)
      - [Ëß£Á≠î](#%E8%A7%A3%E7%AD%94)
    - [Extra](#extra)
      - [È¢òÁõÆ](#%E9%A2%98%E7%9B%AE)
      - [Ëß£Á≠î](#%E8%A7%A3%E7%AD%94-1)
  - [lab3-2](#lab3-2)
    - [exam](#exam-1)
      - [PART1](#part1-1)
      - [PART2](#part2-1)
      - [Ëß£Á≠î](#%E8%A7%A3%E7%AD%94-2)
    - [Extra](#extra-1)
      - [È¢òÁõÆË¶ÅÊ±Ç](#%E9%A2%98%E7%9B%AE%E8%A6%81%E6%B1%82)
      - [Ëß£Á≠î](#%E8%A7%A3%E7%AD%94-3)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

# lab3‰∏äÊú∫

## lab3-1

### exam

#### PART1

Âú®‰ªäÂ§©ÁöÑÂÆûÈ™åÈáåÊàë‰ª¨Ë¶ÅÊ±Ç‰Ω†ÂÆûÁé∞‰∏Ä‰∏™ÁÆÄÊòìÁöÑ fork ÂáΩÊï∞ÔºàÂπ∂‰∏çÂåÖÊã¨ÂÆûÈôÖload‰ª£Á†ÅÊÆµÔºâÔºåÈÄöËøáÁªôÂÆöÁöÑÂéüÂßãËøõÁ®ãÂùó(ËæìÂÖ•ÂèÇÊï∞struct Env *e)ÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑËøõÁ®ãÊéßÂà∂ÂùóÔºåÂπ∂ËøîÂõûÊñ∞ËøõÁ®ãÊéßÂà∂ÂùóÁöÑenv_id„ÄÇÂêåÂ≠¶‰ª¨ÈúÄË¶ÅÂú® lib/env.c Âíå include/env.h ‰∏≠ÂàÜÂà´ÂÆö‰πâÂíåÂ£∞Êòé fork ÂáΩÊï∞ÔºåÂáΩÊï∞Êé•Âè£Â¶Ç‰∏ãÔºö
u_int fork(struct Env *e);
Ë¶ÅÊ±ÇÂ¶Ç‰∏ãÔºö

1. ‰ªé env_free_list ‰∏≠‰ªéÂ§¥Áî≥ËØ∑‰∏Ä‰∏™Êñ∞ÁöÑËøõÁ®ãÊéßÂà∂Âùó
2. Êñ∞ËøõÁ®ãÊéßÂà∂ÂùóÁöÑ env_status„ÄÅenv_pgdir„ÄÅenv_cr3„ÄÅenv_priÂíåÂéüËøõÁ®ãÊéßÂà∂Âùó‰øùÊåÅ‰∏ÄËá¥„ÄÇ
3. ‰∏∫Êñ∞ËøõÁ®ãÊéßÂà∂ÂùóÁîüÊàêÂØπÂ∫îÁöÑ env_id
4. env_parent_id ÁöÑÂÄº‰∏∫ÂéüËøõÁ®ãÊéßÂà∂ÂùóÁöÑ env_id
5. ËøîÂõûÂÄº‰∏∫Êñ∞ËøõÁ®ãÁöÑenv_id

#### PART2

void lab3_output(u_int env_id);

Êú¨ÈÉ®ÂàÜË¶ÅÊ±Ç‰øÆÊîπstruct EnvÔºåÂú®ËøõÁ®ãÊéßÂà∂Âùó‰∏≠Â¢ûÂä†Â≠óÊÆµÔºàÂÖ∑‰ΩìÂ¢ûÂä†Âì™‰∫õÂÜÖÂÆπËØ∑Ëá™Ë°åÁªÑÁªáÔºâÁªÑÁªáËµ∑ËøõÁ®ãÈó¥ÁöÑÁà∂Â≠ê„ÄÅÂÖÑÂºüÂÖ≥Á≥ªÔºåÂπ∂ÊåâÁÖßË¶ÅÊ±ÇÂú® lib/env.c Âíå include/env.h ‰∏≠ÂàÜÂà´ÂÆö‰πâÂíåÂ£∞Êòé lab3_output ÂáΩÊï∞ËæìÂá∫Áõ∏ÂÖ≥ÂÜÖÂÆπÔºåËØ¶ÊÉÖÂ¶Ç‰∏ãÔºö
ÂáΩÊï∞lab3_outputÁöÑÂÆö‰πâÂ¶Ç‰∏ãÔºö
`void lab3_output(u_int env_id);`
Ë¶ÅÊ±ÇËæìÂá∫ÁöÑÂÜÖÂÆπÊúâÂÖ∂Áà∂ËøõÁ®ãÁöÑenv_id„ÄÅÂÖ∂Á¨¨‰∏Ä‰∏™Â≠êËøõÁ®ãÁöÑenv_id„ÄÅÂÖ∂Ââç‰∏Ä‰∏™ÂÖÑÂºüËøõÁ®ãÁöÑenv_id‰ª•ÂèäÂÖ∂Âêé‰∏Ä‰∏™ÂÖÑÂºüËøõÁ®ãÁöÑenv_id
ÊâÄÊúâÁöÑÂ≠êËøõÁ®ãÈÉΩÁî±forkÂàõÂª∫Ôºå‰∏§‰∏™ËøõÁ®ãÂ¶ÇÊûúÊòØÂÖÑÂºüÔºåÂÆÉ‰ª¨ÁöÑÁà∂ËøõÁ®ã‰∏ÄÂÆöÁõ∏Âêå„ÄÇ
‰ª•ÊüêËøõÁ®ãÁ¨¨‰∏Ä‰∏™Â≠êËøõÁ®ãÊòØÊåáÔºåÁî±ËØ•ËøõÁ®ã‰Ωú‰∏∫Áà∂ËøõÁ®ã‰ΩøÁî®forkÂàõÂª∫ÁöÑÁ¨¨‰∏Ä‰∏™Â≠êËøõÁ®ã„ÄÇ
ÂÖÑÂºüËøõÁ®ãÈó¥ÁöÑÈ°∫Â∫èÂç≥‰∏∫Ëøô‰∫õËøõÁ®ãË¢´ÂàõÂª∫ÁöÑÈ°∫Â∫èÔºåÂâç‰∏Ä‰∏™ÂÖÑÂºüËøõÁ®ã‰∏∫ËæÉÊó©Ë¢´ÂàõÂª∫ÁöÑËøõÁ®ã
ÈúÄË¶ÅÂú®PART1ÁöÑforkÂáΩÊï∞‰∏≠ËøõË°åÂØπÊ∑ªÂä†Â≠óÊÆµÁöÑ‰øÆÊîπ
ËæìÂá∫Ê†ºÂºè‰∏∫Ôºöprintf("%08x %08x %08x %08x\n", a, b, c, d);
ÂÖ∂‰∏≠a, b, c, dÂàÜÂà´‰∏∫Áà∂ËøõÁ®ãÁöÑenv_id„ÄÅÁ¨¨‰∏Ä‰∏™Â≠êËøõÁ®ãÁöÑenv_id„ÄÅÂâç‰∏Ä‰∏™ÂÖÑÂºüËøõÁ®ãÁöÑenv_id‰ª•ÂèäÂêé‰∏Ä‰∏™ÂÖÑÂºüËøõÁ®ãÁöÑenv_id
Â¶ÇÊûúa, b, c, d‰∏≠Êúâ‰∏çÂ≠òÂú®ÁöÑÂèÇÊï∞ÔºåÂàôËæìÂá∫0

#### PART3

Âú®PART2ÁöÑÂü∫Á°Ä‰∏äÔºåÂú® lib/env.c Âíå include/env.h ‰∏≠ÂàÜÂà´ÂÆö‰πâÂíåÂ£∞Êòé lab3_get_sum ÂáΩÊï∞ÔºåÂáΩÊï∞ÁöÑÂäüËÉΩ‰∏∫ÔºöÁªôÂÆö‰∏Ä‰∏™ËøõÁ®ãÁöÑenv_idÔºåËøîÂõû‰ª•ËØ•ËøõÁ®ã‰∏∫Ê†πËäÇÁÇπÁöÑÂ≠êËøõÁ®ãÊ†ë‰∏≠ËøõÁ®ãÁöÑÊï∞ÁõÆÔºàÂåÖÊã¨ÂÆÉÊú¨Ë∫´ÔºâÔºåÂÖ∑‰ΩìÊé•Âè£Â¶Ç‰∏ãÔºö
int lab3_get_sum(u_int env_id);

#### Ëß£Á≠î

ÊØîËæÉÁÆÄÂçïÔºå‰ΩÜÊòØÂ∞èÂùë‰∏çÊñ≠„ÄÇÊúâÁöÑ‰∫∫Á¨¨‰∏ÄÈ¢òÊ≤°ÊúâÁî®`env_alloc()`ÁªìÊûúÂøòËÆ∞Áªô`free_env_list`removeÊéâÂàÜÈÖçÁöÑ`env`

ÊñóËÉÜÊîæ‰∏äËá™Â∑±ÁöÑ‰ª£Á†Å„ÄÇ

È¶ñÂÖàÊòØ‰øÆÊîπenvÁªìÊûÑ‰ΩìÔºåËøôÊ¨°examÁî®Êï∞ÁªÑÂÜôËµ∑Êù•ÊØîËæÉÁÆÄÂçï„ÄÇ‰∏∫‰ªÄ‰πàÊàëÊ≤°Áî®ÈìæË°®Âë¢ÔºåÂõ†‰∏∫CËØ≠Ë®ÄÂäüÂ∫ïÂ§™Â∑ÆÔºåÔºåÁî®ÊåáÈíàÊÄïÈîô„ÄÇ„ÄÇ„ÄÇ

```cpp
struct Env {
        struct Trapframe env_tf;        // Saved registers
        LIST_ENTRY(Env) env_link;       // Free list
        u_int env_id;                   // Unique environment identifier
        u_int env_parent_id;            // env_id of this env's parent
        u_int env_status;               // Status of the environment
        Pde  *env_pgdir;                // Kernel virtual address of page dir
        u_int env_cr3;
        LIST_ENTRY(Env) env_sched_link;
        u_int env_pri;
        // Lab 4 IPC
        u_int env_ipc_value;            // data value sent to us
        u_int env_ipc_from;             // envid of the sender
        u_int env_ipc_recving;          // env is blocked receiving
        u_int env_ipc_dstva;            // va at which to map received page
        u_int env_ipc_perm;             // perm of page mapping received

        // Lab 4 fault handling
        u_int env_pgfault_handler;      // page fault state
        u_int env_xstacktop;            // top of exception stack

        // Lab 6 scheduler counts
        u_int env_runs;                 // number of times been env_run'ed
        u_int env_nop;                  // align to avoid mul instruction

        int son_num;            // add on exam
        u_int son_id_arr[1024]; // add on exam

};
```

```cpp
u_int fork(struct Env *e)
{
        struct Env *e_son;
        env_alloc(&e_son, e->env_id);
        e_son->env_status = e->env_status;
        e_son->env_pgdir = e->env_pgdir;
        e_son->env_cr3 = e->env_cr3;
        e_son->env_pri = e->env_pri;

        // ---- father ----
        int son_num = e->son_num;
        e->son_id_arr[son_num] = e_son->env_id;
        e->son_num += 1;

        return e_son->env_id;
}
```

```cpp

void lab3_output(u_int env_id)
{
        struct Env *e_now;
        u_int fa_id = 0;
        u_int first_son_id = 0;
        u_int bro_bf_id = 0; // "bf" means "before"
        u_int bro_af_id = 0; // "af" means "after"

        envid2env(env_id, &e_now, 0);
        // son part
        first_son_id = e_now->son_id_arr[0];

        // parent part
        fa_id = e_now->env_parent_id;
        if (fa_id == 0) { // do not have parent
                // three 0 now
                bro_bf_id = 0;
                bro_af_id = 0;
        } else { // have a parent
                struct Env *e_fa;
                envid2env(fa_id, &e_fa, 0);
                int index = 0;
                for (index = 0; index < 1024; index++) {
                        if (e_fa->son_id_arr[index] == env_id) {
                                break;
                        } else {
                                continue;
                        }
                }
                // index is the env of father now
                if (index > 0) { // have bro bf
                        bro_bf_id = e_fa->son_id_arr[index - 1];
                }

                // have a bro_af
                if (e_fa->son_num > index + 1) {
                        bro_af_id = e_fa->son_id_arr[index + 1];
                }
        }
        // fa_id, fist_son_id, bro_bf, bro_af
        printf("%08x %08x %08x %08x\n", fa_id, first_son_id, bro_bf_id, bro_af_id);
}
```

```cpp
int lab3_get_sum(u_int env_id)
{
        struct Env *e_now;
        envid2env(env_id, &e_now, 0);
        int son_num = e_now->son_num;
        // if e_now has no son
        if (son_num == 0) {
                return 1;
        } else {
                // have many sons, recuring
                int ans = 1;
                int i = 0;
                for (i = 0; i < son_num; i++) {
                        struct Env *e_son;
                        u_int son_id = e_now->son_id_arr[i];
                        envid2env(son_id, &e_son, 0); // now got a son
                        ans += lab3_get_sum(son_id);
                }
                return ans;
        }
}

```

### Extra

#### È¢òÁõÆ

b/env.c Âíå include/env.h ‰∏≠ÂàÜÂà´ÂÆö‰πâÂíåÂ£∞Êòé lab3_kill ÂáΩÊï∞ÔºåÂäüËÉΩ‰∏∫ÔºöÊùÄÊ≠ª‰∏Ä‰∏™ËøõÁ®ã„ÄÇËøõÁ®ãÊ†ëÁöÑÊ†πËäÇÁÇπ‰ª£Ë°®ÁöÑËøõÁ®ãÊî∂ÂÖªÔºàÊé•ÁÆ°Ôºâ‰ªñÁöÑÂ≠§ÂÑøËøõÁ®ã„ÄÇËøô‰∫õÂ≠§ÂÑøËøõÁ®ãÂ∞Ü‰æùÊ¨°ÊéíÂàóÂú®Ê†πËøõÁ®ãÁöÑÂ≠êËøõÁ®ãÁöÑÂ∞æÈÉ®„ÄÇÊµãËØï‰∏≠‰øùËØÅ‰∏ç‰ºöÊùÄÊ≠ªÊ†πËäÇÁÇπ‰ª£Ë°®ÁöÑËøõÁ®ã„ÄÇÂáΩÊï∞Êé•Âè£Â¶Ç‰∏ãÔºö
`void lab3_kill(u_int env_id);`
Âú®ÂÆåÊàê‰∏ÄÊ¨°Âà†Èô§ÂêéÔºåÂü∫Á°ÄÊµãËØïPART2 lab3_outputÔºåËæìÂá∫ÁöÑÁªìÊûúÂú®Êñ∞ÁöÑÊ†ëÁªìÊûÑ‰∏ã‰ªçÂ∫îÊ≠£Á°Æ„ÄÇ
‰∏ÄÈ¢óËøõÁ®ãÊ†ëÁöÑÊ†πËäÇÁÇπ‰ª£Ë°®ÁöÑËøõÁ®ãÁî±env_allocÂàõÂª∫ÔºåÂÖ∂‰ΩôËäÇÁÇπ‰ª£Ë°®ÁöÑËøõÁ®ãÁöÜÁî±PART1 forkÂàõÂª∫„ÄÇ
Êú¨ÈÉ®ÂàÜ‰∏≠‚ÄúÊùÄÊ≠ªËøõÁ®ã‚ÄùÁöÑË¶Å**Ê∏ÖÁ©∫ËøõÁ®ãÊéßÂà∂ÂùóÁõ∏ÂÖ≥Â≠óÊÆµ**ÔºàÂèØ‰ª•ÂèÇËÄÉ`free_env()`Ôºå‰ΩÜÊòØ‰∏çËÉΩË∞ÉÁî®`free_env()`Ôºâ‰ª•ÂèäÂÖ∂‰ªñÁõ∏ÂÖ≥Â§ÑÈÉ®ÂàÜÊµãËØïËæÉÂº∫ÔºåËØ∑Âä°ÂøÖËÄÉËôëÂÆåÂñÑ„ÄÇ

#### Ëß£Á≠î

‰∏ÄÂ†Ü‰∫∫‰ª•‰∏∫Ëá™Â∑±ÁöÑÊï∞ÊçÆÁªìÊûÑÂá∫ÈóÆÈ¢ò‰∫ÜÔºåÁªìÊûúÔºåÔºåÊòØÂú®ÊùÄÊ≠ª‰∏Ä‰∏™ËøõÁ®ãÂêéÁöÑÁä∂ÊÄÅÂ§ÑÁêÜ‰∏äÂá∫ÈóÆÈ¢ò‰∫Ü„ÄÇ

Êàë‰∏ÄpushÔºåÂæó11ÂàÜÔºåÂëµÂëµÔºå‰πüË∑ëÂéªdeËá™Â∑±ÁªìÊûÑÁöÑbug‰∫ÜÔºå‰∏çËøáÂ∑≤ÁªèÊ≤°Êó∂Èó¥‰∫Ü„ÄÇ

Êó©Áü•ÈÅìexamÊãø60ÂàÜÂ∞±Ë∑ëË∑Ø‰∫ÜÔºåÁé∞Âú®ÂèëÁé∞ÂéüÊù•exam60Âíå100ÊúÄÁªàÂæóÂàÜÊ≤°Â∑Æ„ÄÇÈ∫ª‰∫ÜÔºåÊàòÊúØÂ§±ËØØ„ÄÇ

![](/img/ÂàÜÂÄºÂÆâÊéíÂèäËÄÉÊ†∏Êó∂Èó¥.JPG)

Áúã‰∫ÜÂ§ß‰Ω¨ÁöÑ[ÂçöÂÆ¢](https://roife.github.io/2021/04/20/buaa-os-lab-lab3-1-process/)ÔºåÂèëÁé∞Ëá™Â∑±ÂèØËÉΩÊòØÊ≤°ÊúâfreeÂêéÊèíÂõûlistÈáåÔºåÊàëÂëµÂëµ‰∫Üüòá„ÄÇ

```cpp
void lab3_kill(u_int env_id)
{
        // get e_now and e_root
        struct Env *e_now;
        struct Env *e_root;
        envid2env(env_id, &e_now, 0);

        u_int root_id = e_now->env_parent_id;
        envid2env(root_id, &e_root, 0);

        // while this "root" have a father
        while (e_root->env_parent_id != 0) {
                root_id = e_root->env_parent_id;
                envid2env(root_id, &e_root, 0);
        }

        // now we get the root
        int now_son_num = e_now->son_num;
        int root_son_num = e_root->son_num;

        int i = 0;

        // remove from father, careful!: root == father
        struct Env *e_fa;
        u_int fa_id = e_now->env_parent_id;
        envid2env(fa_id, &e_fa, 0);
        // get the index
        for (i = 0; i < e_fa->son_num; i++) {
                if (e_fa->son_id_arr[i] == env_id) {
                        break;
                } else {
                        continue;
                }
        }

        // cover
        for (; i < e_fa->son_num-1; i++) {
                e_fa->son_id_arr[i] = e_fa->son_id_arr[i+1];
        }
        e_fa->son_id_arr[i] = 0;
        e_fa->son_num--;


        // attach all sons to root
        for (i = 0; i < now_son_num; i++) {
                u_int now_son_id = e_now->son_id_arr[i];
                e_root->son_id_arr[e_root->son_num] = now_son_id;
                e_root->son_num += 1;
        }

        // free the env
        e_now->son_num = 0;
        for (i = 0; i < e_now->son_num; i++) {
                e_now->son_id_arr[i] = 0;
        }
        e_now->env_status = ENV_FREE;
        e_now->env_cr3 = 0;
        e_now->env_pgdir = 0;

        // maybe i should add, then i can pass
        LIST_INSERT_HEAD(&env_free_list, e, env_link);

}
```

## lab3-2

È¢òÁõÆË¶ÅÊ±ÇÔºö
Âú®Êú¨Ê¨°ËØæ‰∏äÊµãËØï‰∏≠ÔºåÊàë‰ª¨ÂØπenv_priÁöÑÂê´‰πâËøõË°åÂ¶Ç‰∏ãÁ∫¶ÂÆöÔºö

1. env_priÁöÑÁ¨¨0-7‰Ωç‰ªçÁÑ∂Ë°®Á§∫ËøõÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÔºàPRIÔºâ
2. env_priÁöÑÁ¨¨8-15‰Ωç‰∏∫ÂäüËÉΩÂ≠óÊÆµ1ÔºàFUNC_1Ôºâ
3. env_priÁöÑÁ¨¨16-23‰Ωç‰∏∫ÂäüËÉΩÂ≠óÊÆµ2ÔºàFUNC_2Ôºâ
4. env_priÁöÑÁ¨¨24-31‰Ωç‰∏∫ÂäüËÉΩÂ≠óÊÆµ3ÔºàFUNC_3Ôºâ
5. FUNC_1, FUNC_2, FUNC_3Âùá‰∏∫Êó†Á¨¶Âè∑Êï∞

### exam

#### PART1

Âú®ËøôÊ¨°ÁöÑËØæ‰∏äÊµãËØï‰∏≠ÔºåÊàë‰ª¨ÈúÄË¶Å‰Ω†ÂÆûÁé∞‰∏Ä‰∏™Êñ∞ÁöÑË∞ÉÂ∫¶ÁÆóÊ≥ïÔºåÂÖ∑‰ΩìË¶ÅÊ±ÇÂ¶Ç‰∏ãÔºö
1.‰øÆÊîπsched_yieldÂáΩÊï∞Ôºå‰ΩøÂæóÂú®ËøõÁ®ãË∞ÉÂ∫¶Êó∂È´ò‰ºòÂÖàÁ∫ßÔºàÁî®PRIË°®Á§∫ÔºâÁöÑËøõÁ®ãÊ∞∏ËøúÊØî‰Ωé‰ºòÂÖàÁ∫ßÔºàÁî®PRIË°®Á§∫ÔºâÁöÑËøõÁ®ãÂÖàË∞ÉÂ∫¶„ÄÇ
2.‰∏∫‰∫ÜÁÆÄÂåñÈóÆÈ¢òÔºå‰∏çÈúÄË¶ÅËÄÉËôë‰∏§‰∏™ËøõÁ®ã‰ºòÂÖàÁ∫ßÁõ∏ÂêåÁöÑÊÉÖÂÜµ„ÄÇ
‰æãÂ¶ÇÔºöÂ¶ÇÊûúÊúâ‰∏§‰∏™ËøõÁ®ãAÂíåBÔºå‰ºòÂÖàÁ∫ßÂàÜÂà´‰∏∫1Âíå2Ôºå‰∏îenv_statusÈÉΩ‰∏∫ENV_RUNNABLEÔºåÂàôÂè™ÊúâB‰ºöÂæóÂà∞ÊâßË°åÔºõÂΩìBÁöÑÁä∂ÊÄÅ‰∏ç‰∏∫ENV_RUNNABLEÊó∂ÔºåAÊâç‰ºöÂæóÂà∞ÊâßË°å„ÄÇ

#### PART2

Âú®PART1‰∏≠ÁöÑsched_yield‰∏äÁªßÁª≠‰øÆÊîπÔºåË¶ÅÊ±ÇÂ¶Ç‰∏ãÔºö
Âú®ÂΩìÂâçËøõÁ®ãÔºàËÆ∞‰∏∫ËøõÁ®ãXÔºâË¢´Êó∂Èíü‰∏≠Êñ≠ÊöÇÂÅúÊâßË°åÊó∂ÔºåËøõË°åÂ¶Ç‰∏ãÊìç‰ΩúÔºö
1.Ê†πÊçÆFUNC_1ÁöÑÂÄºÊõ¥Êñ∞ËøõÁ®ãXÁöÑ‰ºòÂÖàÁ∫ßÔºö
Ëã•FUNC_1ÁöÑÂÄº‰∏∫0ÔºåÂàô‰∏ç‰øÆÊîπËøõÁ®ãXÁöÑ‰ºòÂÖàÁ∫ß
Ëã•FUNC_1ÁöÑÂÄº‰∏∫Ê≠£ÔºåÂàôÂ∞ÜËøõÁ®ãXÁöÑ‰ºòÂÖàÁ∫ßÂáèÂ∞ëFUNC_1ÁöÑÂÄºÔºàÂ¶ÇÊûúÂáèÂ∞ë‰πãÂêé‰ºòÂÖàÁ∫ßÂ∞è‰∫é0Âàô‰ºòÂÖàÁ∫ßÁΩÆÈõ∂Ôºâ
2.ÂÆåÊàêPART1‰∏≠ÁöÑËøõÁ®ãË∞ÉÂ∫¶

#### Ëß£Á≠î

Êúâ‰∏Ä‰∫õÂùëÔºö

1. `(x<<24)>>24`ÂèØËÉΩÂØºËá¥ÁªìÊûú‰∏∫Ë¥üÊï∞ÔºåÊâÄ‰ª•ÊúÄÂ•Ω`x&(0x000000ff)`
2. Ê≤°ÊúâÊó∂Èó¥ÁâáÁöÑÊ¶ÇÂøµÔºåÊâÄ‰ª•‰∏çÂ≠òÂú®‰∏Ä‰∏™ËøõÁ®ãÁöÑÊó∂Èó¥ÁâáÁî®ÂÆåËøôÁßçËØ¥Ê≥ïÔºåÊâÄ‰ª•‰∏çÁî®Âú®‰∏§‰∏™list‰πãÈó¥ÂÄíËÖæÊù•ÂÄíËÖæÂéª
3. Êú¨Âú∞ÊµãËØïÊó∂ÔºåÊ∞∏ËøúËæìÂá∫‰∏Ä‰∏™Êï∞Â≠óÔºå‰∏çÂ≠òÂú®ËøõÁ®ãÂàáÊç¢

### Extra

#### È¢òÁõÆË¶ÅÊ±Ç

ExtraÈÉ®ÂàÜË¶ÅÊ±ÇÂú®examÈÉ®ÂàÜÁöÑÂü∫Á°Ä‰∏äÁªßÁª≠‰øÆÊîπsched_yieldÔºö
Âú®ÂΩìÂâçËøõÁ®ãÔºàËÆ∞‰∏∫ËøõÁ®ãXÔºâË¢´Êó∂Èíü‰∏≠Êñ≠ÊöÇÂÅúÊâßË°åÊó∂ÔºåËøõË°åÂ¶Ç‰∏ãÊìç‰ΩúÔºö
1.Â¶ÇÊûúÂΩìÂâçÁöÑÊó∂Èíü‰∏≠Êñ≠ÊòØÁ¨¨FUNC_2‰∏™Ôºà‰ªé1ÂºÄÂßãËÆ°Êï∞ÔºâÊó∂Èíü‰∏≠Êñ≠ÔºåÈÇ£‰πàÂú®Êé•‰∏ãÊù•ÁöÑFUNC_3‰∏™Êó∂Èó¥ÁâáÈáåÔºåÂ∞ÜËøõÁ®ãXÁöÑenv_statusÊîπ‰∏∫ENV_NOT_RUNNABLEÔºå‰∏çËøõË°åË∞ÉÂ∫¶ÔºåFUNC_3‰∏™Êó∂Èó¥Áâá‰πãÂêéÔºàÊó†ËÆ∫ËøôÊó∂ÊòØÂì™‰∏Ä‰∏™ËøõÁ®ãË¢´‰∏≠Êñ≠ÔºâÔºåÂ∞ÜËøõÁ®ãXÁöÑenv_statusÊîπ‰∏∫ENV_RUNNABLEÔºåÂèÇ‰∏éË∞ÉÂ∫¶„ÄÇ
2.Âê¶ÂàôÔºå‰∏çËøõË°åÂ§ÑÁêÜÔºàÊ≥®ÊÑèÔºå‰∏∫‰∫ÜÁÆÄÂåñÈóÆÈ¢òÔºåÊàë‰ª¨‰øùËØÅËøô‰∏ÄÈÉ®ÂàÜÊµãËØïÊï∞ÊçÆ‰∏≠FUNC_1ÂßãÁªà‰∏∫0Ôºâ
3.ÊåâÁÖßPART1‰∏≠ÁöÑÁ≠ñÁï•ËøõË°åË∞ÉÂ∫¶

#### Ëß£Á≠î

È¢òÂπ≤‰∏≠ËôΩÁÑ∂ÊèêÂà∞‰∫Ü‚ÄúÊó∂Èó¥Áâá‚ÄùÁöÑÊ¶ÇÂøµÔºåÂÖ∂ÂÆû‰∏Ä‰∏™Êó∂Èó¥ÁâáÂ∞±ÊòØ‰∏ÄÊ¨°‰∏≠Êñ≠„ÄÇ

ÊµãËØïÊ†∑‰æãÂæàÂº±ÔºåÊå∫Â§ö‰∫∫ËøáExtraÁöÑÔºåÊâÄ‰ª•‰∏çËÉΩ‰øùËØÅËá™Â∑±ÁöÑÁ®ãÂ∫èÊòØÂê¶Ê≠£Á°Æ„ÄÇ

ÊàëËßâÂæóÁÆÄÂçïÁöÑÂÅöÊ≥ïÂ∫îËØ•ÊòØ‰øÆÊîπenv.hÈáåÁöÑenvÁªìÊûÑ‰ΩìÔºåÁΩÆ‰∏Ä‰∏™time_to_runÔºåÊØè‰∏™‰∏≠Êñ≠Êõ¥Êñ∞‰∏ãÔºåÊõ¥Êñ∞Âà∞0ÁöÑËØùÂ∞±ÁΩÆ‰∏∫RUNNABLE„ÄÇÁÑ∂ÂêéÈÅçÂéÜlistÂèñRUNNABLEÈáåpriÊúÄÂ§ßÁöÑÂ∞±Ë°å„ÄÇ

‰∏Ä‰∏™listÂ∞±Â§ü‰∫Ü„ÄÇ
